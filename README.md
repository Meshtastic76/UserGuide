# Meshtastic Ярославль

## Общая информация

[Выбор устройства](/choose.md)
[Установка и настройка](/configure.md)
[Известные проблемы](/issues.md)

### Официальные ресурсы
- [Официальный сайт](https://meshtastic.org/) и [Документация](https://meshtastic.org/docs/)
- [WEB флешер (прошивка устройств из браузера)](https://flasher.meshtastic.org/)
- [GitHub](https://github.com/meshtastic)

### Не официальные ресурсы
- [Mesh Metrics](https://dash.mesh76.ru/) - панель мониторинга со статистикой Ярославской сети (https://t.me/iHaskin)
- [Общероссийская группа telegram](https://t.me/meshtastic_russia) и [Ярославская группа telegram](https://t.me/meshtastic_yar)
- [Вэб флешер](https://mrekin.duckdns.org/flasher/) с поддержкой кириллицы
- [Meshworks wiki](https://wiki.meshworks.ru/)

### Карты нод
- [Onemesh](https://map.onemesh.ru/?lat=57.65422767078807&lng=39.84535217285157&zoom=11) - карта и лог сообщений общего канала в Ярославле
- [Meshmap](https://meshmap.net/)
- [Taubete](https://meshtastic.taubetele.com/?lat=57.657360&lng=39.898794&zoom=10.445443006785743****)
- [Liamcottle](https://meshtastic.liamcottle.net/?lat=57.672757492776576&lng=399.8863615622551&zoom=10#****)
- [Site planner](https://site.meshtastic.org/) - для прогнозирования дальности радиосвязи

## Базовые настройки

### LoRa
| Параметр | Значение | Комментарий |
| -------- | -------- | ----------- |
| Регион | Россия |  |
| Использовать шаблон | Вкл |  |
| Шаблон | Большая дальность - Быстрый | Long fast |
| ОК в MQTT | Вкл | Выкл - если не хотите передавать данные в MQTT |
| Передача включена | Вкл |  |
| Количество прыжков | 7 |  |
| Частота слота | 2 | Должно установиться автоматически при выборе шаблона |
| Переопределить частоту | 869.075 | Должно установиться автоматически при выборе шаблона |
| Мощность передатчика | 20 | Можно изменить при необходимости, например наличие более мощной выходной ноды на районе |

### Каналы
| Параметр | Значение | Комментарий |
| -------- | -------- | ----------- |
| Имя канала | LongFast | Должен установиться сам по умолчанию при выборе шаблона в разделе LoRa |
| PSK | AQ== | Должен установиться сам по умолчанию при выборе шаблона в разделе LoRa |

### Пользователь
| Параметр | Значение | Комментарий |
| -------- | -------- | ----------- |
| Полное имя | %на_ваш_выбор% | Есть правила именования, указаны ниже!!! |
| Короткое имя | %на_ваш_выбор% | 4 символа или emoji |
| Uplink включен | Вкл |  |
| Downlink включен | По желанию |  |
| Местоположение включено | Вкл | Выкл - если не хотите передавать данные о местоположении |
| Точность местоположения | Выкл |  |
| Расстояние | По желанию | Рекомендуется не менее 1.5 км |

Правила именования нод:
1. Если нода не имеет постоянного места нахождения и постоянно переносится с собой, ее можно назвать любым удобным способом
2. Если нода всегда стоит на одном месте, она является статичной/базовой, ее следует назвать по шаблону: "РАЙОН_объект имя" пример - "CNTR_volkovsky MyAwesomeNick"
  - Район: CNTR/LEN/FRNZ/NEFT/ZAV/DZR/RZT/KARM
  - Объект: Общественно значимое место которое знают все, рядом с которым находится нода
  - Имя: Произвольное имя на ваш вкус

### Устройство
| Параметр | Значение | Комментарий |
| -------- | -------- | ----------- |
| Роль | CLIENT / CLIENT_BASE / CLIENT_MUTE | Используются 3 основные роли, правила выбора ниже |
| Режим ретрансляции | CORE_PORTNUMS_ONLY |  |
| Интервал вещания информации об узле | Three Hours | 3 часа |
| Часовой пояс | GMT-3 |  |

Правила выбора роли:
| Роль | Описание | Основное назначение / сценарий |
| ---- | -------- | ------------------------------ |
| CLIENT | Классический клиент. Подключается к приложению или работает автономно. При отсутствии других ретрансляторов пересылает пакеты. | Обычные узлы сети, используемые пользователями для обмена сообщениями |
| CLIENT_BASE | "Базовая" клиентская нода: всегда ретранслирует пакеты от/до избранных узлов; остальные ведёт как CLIENT. | Подходит для узлов, размещённых на крыше, на чердаке, или в более выгодных местах, чтобы усиливать связь "внутренних" узлов. |
| CLIENT_MUTE | Клиент, который не ретранслирует пакеты от других устройств. | Используется, когда нужно участвовать в сети, но не создавать нагрузку за счёт ретрансляции. (портативная, носимая нода, автомобиль) |

### Местоположение
| Параметр | Для статичной ноды | Для переносной ноды | Комментарий |
| -------- | --------------------------- | --------------------------- | ----------- |
| Период трансляции | Twenty Four Hours | Twenty Four Hours | 24 часа |
| Умная позиция | Выкл | Вкл |  |
| Минимальный интервал | - | Ten minutes |  |
| Минимальная дистанция | - | 1000 |  |
| Фиксированное положение | Вкл | Выкл |  |

⚠️Важно: В городе работает GPS спуффер, если не умеете его обходить - установите фиксированные координаты на статичной ноде или отключите передачу локации на переносной

### MQTT
| Параметр | Значение | Комментарий |
| -------- | -------- | ----------- |
| MQTT включен | Вкл |  |
| Адрес | mqtt.onemesh.ru |  |
| Имя пользователя | onemesh |  |
| Пароль | onecat |  |
| Шифрование | Вкл |  |
| Вывод JSON включен | Выкл |  |
| TLS включен | Выкл |  |
| Корневая тема | msh/RU/YAR |  |
| Отчеты по карте | Вкл | ТОЛЬКО если хотите что бы нода отображаласть на карте |
| Я согласен | Вкл | ТОЛЬКО если хотите что бы нода отображаласть на карте |
| Интервал отсчета карты | 1 hour |  |

[Эта станица как сайт](https://meshtastic76.github.io/UserGuide/)

---

## В разработке...

### Раздел
| Параметр | Значение | Комментарий |
| -------- | -------- | ----------- |
|  |  |  |
|  |  |  |
